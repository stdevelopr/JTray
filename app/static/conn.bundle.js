(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,t,a){var r=a(6),n=a(153);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},153:function(e,t,a){(t=a(7)(!1)).push([e.i,"._2AtuqYPvQ_NTygw-o_FUpL{position:absolute;z-index:2;height:100vh;width:100vw;background-color:blue}._2pQuRhdXSUiMa3YlRQpBr{position:relative;display:flex;flex-flow:row wrap;background-color:darkturquoise;animation-name:-zER1LhGzZ-Gfd7w8O1F9;animation-duration:0.5s;overflow:hidden}._39jHTTLeSiHE3FQCQ0K6P8{width:200px;text-align:center;height:fit-content;margin:30px;background-color:lightgreen}._3-1JF4yBFIPGyCRpPpbwCL{position:absolute;width:inherit;height:inherit}._1ptevADVgrYUK7gi10dBwb{text-align:center;color:white;font-weight:bolder;border-bottom:solid white;background-color:black}.EXEyJIEe6pBNhSHQHQj9j{font-style:italic}._2Ap0zX9DQe74ND0wQoPbUJ{position:relative;z-index:100;overflow:hidden;height:400px;background-color:blue;transition:0.5s}._3XPRSvnOUhUf6b2TvZJgkV{background-color:blue;overflow:hidden;height:0px;visibility:hidden;transition:height 0.5s, background-color 2s, visibility 0.5s}.x_TUb9BIJ0Ip0JjRo-pjo{background-color:white;animation-name:_1ikcyAItU-MCXPZ44GTleR;animation-duration:0.6s;animation-timing-function:ease-in}._2ks_gI51ZDg42URZaaIdx8{animation-name:_17uNbpysRP80qDsR9-3ZMP;animation-duration:0.1s;animation-fill-mode:forwards}@keyframes -zER1LhGzZ-Gfd7w8O1F9{from{clip-path:circle(0px at 0% 0%)}to{clip-path:circle(2000px at 0% 0%)}}@keyframes _1mob-HJv-FgHe7QM91PcUn{from{transform:translateY(-200px)}to{transform:translateY(0)}}@keyframes _17uNbpysRP80qDsR9-3ZMP{from{transform:translateY(0)}to{transform:translateY(200px) translateX(-50%)}}@keyframes _1ikcyAItU-MCXPZ44GTleR{0%{transform:translateY(-200px)}70%{transform:translateY(10px)}100%{transform:translateY(0px)}}@keyframes _2xoQ8ke-xP2l-Aw4H_5X0H{from{margin-top:0px}to{margin-top:400px}}\n",""]),t.locals={publicSelection:"_2AtuqYPvQ_NTygw-o_FUpL",pollsParent:"_2pQuRhdXSUiMa3YlRQpBr",openPublicSelection:"-zER1LhGzZ-Gfd7w8O1F9",pollContent:"_39jHTTLeSiHE3FQCQ0K6P8",contentWrapper:"_3-1JF4yBFIPGyCRpPpbwCL",listItemTitle:"_1ptevADVgrYUK7gi10dBwb",listItemAnnotations:"EXEyJIEe6pBNhSHQHQj9j",createOpen:"_2Ap0zX9DQe74ND0wQoPbUJ",createClose:"_3XPRSvnOUhUf6b2TvZJgkV",startAnimation:"x_TUb9BIJ0Ip0JjRo-pjo",drop:"_1ikcyAItU-MCXPZ44GTleR",endAnimation:"_2ks_gI51ZDg42URZaaIdx8",runOut:"_17uNbpysRP80qDsR9-3ZMP",runIn:"_1mob-HJv-FgHe7QM91PcUn",moveDown:"_2xoQ8ke-xP2l-Aw4H_5X0H"},e.exports=t},164:function(e,t,a){var r=a(6),n=a(165);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},165:function(e,t,a){(t=a(7)(!1)).push([e.i,"._1I85nsgCE-RSJxchz8EFwC{position:relative;overflow:hidden;background-color:darkturquoise;width:100vw;height:60px}._1I85nsgCE-RSJxchz8EFwC a{position:absolute;z-index:10;padding:14px 16px}._2tKHysVoF4CidUWJLAbbRq{position:absolute;top:0px;color:white;display:inline-block}._3FIzIsknNHnTtfH5MlHujq{position:relative;background-color:lightgreen}._1Fpn5oILh3ZN4V0Z3U0D2h{overflow:scroll;position:absolute;min-height:calc(100vh - 120px);height:100%;background-color:darkturquoise;transition:0.5s}._1Fpn5oILh3ZN4V0Z3U0D2h a{display:block;color:white;text-align:center;text-decoration:none;font-size:20px}._1Fpn5oILh3ZN4V0Z3U0D2h a:first-child{display:block;float:none;text-align:right;font-size:30px;padding:10px;padding-top:0px;size:10px}.yCr_rUJyo2ymJUHbXqvsQ{position:relative;color:white;text-align:center}.hCfpK5WzW-K7q7jDbukgI{color:red;border:solid;margin-top:-5px;background-color:whitesmoke}._2QfbHdUGiD9XizbLOIKdEr{position:absolute !important;right:5px !important;padding:0px !important}._96_WXeY1YOr0wLZfVHaMD{position:absolute;top:0px;right:0px}._1lnjRLT2pbdxGTbyGjE8yl{background-color:yellow;color:black}._1wHacjcYMDrk3Ew7wZ9nx_{width:0px}._2SnB5ay1aHcF5spqQdYEmy{width:200px}.enT0vl4QgDD8T44UML7pY{display:inline-block;transition:0.5s}._2jRDI351O-bkYaZS1FdlL-{margin-left:200px}.bDBA7_gQZLjyhhDuch5cO{position:absolute;text-align:center;width:100vw;color:white;text-align:center}._2Xv8hAO00UUqeU8rXLY0g3{color:seashell;font-size:larger}._3nD1U4tLtSFi_DRCgOKst7{position:absolute;color:blanchedalmond;padding:8px;right:20px}\n",""]),t.locals={navbar:"_1I85nsgCE-RSJxchz8EFwC",myPollsText:"_2tKHysVoF4CidUWJLAbbRq",parentHeight:"_3FIzIsknNHnTtfH5MlHujq",sidenav:"_1Fpn5oILh3ZN4V0Z3U0D2h",sideMenuItem:"yCr_rUJyo2ymJUHbXqvsQ",itemPollDelete:"hCfpK5WzW-K7q7jDbukgI",verticalIcon:"_2QfbHdUGiD9XizbLOIKdEr",verticalIconContainer:"_96_WXeY1YOr0wLZfVHaMD",selected:"_1lnjRLT2pbdxGTbyGjE8yl",side_close:"_1wHacjcYMDrk3Ew7wZ9nx_",side_open:"_2SnB5ay1aHcF5spqQdYEmy",content:"enT0vl4QgDD8T44UML7pY",content_open:"_2jRDI351O-bkYaZS1FdlL-",logo:"bDBA7_gQZLjyhhDuch5cO",title:"_2Xv8hAO00UUqeU8rXLY0g3",jiraIcon:"_3nD1U4tLtSFi_DRCgOKst7"},e.exports=t},166:function(e,t,a){var r=a(6),n=a(167);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},167:function(e,t,a){(t=a(7)(!1)).push([e.i,"._2Rqp8U8D51fFDlwi3zhWOJ{display:grid;position:absolute;z-index:10;right:5px;background-color:blueviolet}._2Rqp8U8D51fFDlwi3zhWOJ *{padding:5px;margin:5px}._1FhMvrriT3mdMEV4B5hAOC{text-align:center;color:white;text-decoration:underline;font-weight:bold;background-color:black;margin:0px}.MDcFH7TU0CR4nyuNd9u4t{margin:0px;background-color:black;text-align:center;color:yellow}._2_ROqiu58dpHn1aF4wA4A4{text-align:center;background-color:yellow;margin:0px;color:black;border:solid red}\n",""]),t.locals={jiraModal:"_2Rqp8U8D51fFDlwi3zhWOJ",jiraProjectsHeader:"_1FhMvrriT3mdMEV4B5hAOC",jiraProjectItem:"MDcFH7TU0CR4nyuNd9u4t",jiraProjectLoading:"_2_ROqiu58dpHn1aF4wA4A4"},e.exports=t},169:function(e,t,a){var r=a(6),n=a(170);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},170:function(e,t,a){(t=a(7)(!1)).push([e.i,"._32_q7SPx4-94gQc_13iTXB{height:50px;width:100vw;display:flex;position:relative;background-color:#cecce0}._32_q7SPx4-94gQc_13iTXB h1{margin:auto}\n",""]),t.locals={root:"_32_q7SPx4-94gQc_13iTXB"},e.exports=t},171:function(e,t,a){var r=a(6),n=a(172);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},172:function(e,t,a){(t=a(7)(!1)).push([e.i,"._1GrGFmcOgu2-jlBJ3gfa3g{overflow:hidden;width:100vw;background-color:black;height:60px}._1GrGFmcOgu2-jlBJ3gfa3g a{position:absolute;z-index:10;padding:14px 16px}._23ljq_HwUnL5k9OMgHTuos{position:absolute;top:0px;width:100vw;text-align:center;color:white}.doc5FYRsAGytPJzJcNd3h{background-color:#abff25;position:absolute;top:25px;left:130px;padding:10px;text-align:center;font-size:16px;margin:10px;border-radius:50%;z-index:110;border:solid white}._3OGk2sZLCjQEZzjReWtZZS{position:absolute;top:0px;left:45px;color:white;z-index:10}.LeUQWdq5WWOCHxh3fxqO3{position:absolute;width:80px;height:30px;top:0;right:0;margin:20px;background-color:red;z-index:200}._3pipI8xzuqFYCSMzbsIzE7{background-color:darkturquoise;position:absolute;z-index:100;width:100vw;height:calc(100% - 63px)}._20_IKIN8m9n3XQIhKrQL1Z{background-color:darkturquoise;position:absolute;z-index:100;width:100vw;height:100vh;margin-top:400px;animation-name:_2Vk-osYFioz0Kc5lWcyw-J;animation-duration:0.5s}.flOFZ5S-ahnfhNet-89kn{text-align:center}._3xuSgo6ZUu6d0b3av6CphC{background-color:darkturquoise;height:400px;overflow:hidden;animation:_17R5tF1ASiJkm13E57f4L5 0.5s}@keyframes iAaa7vg5b7vwXiLxHCWst{0%{height:0px}100%{height:400px}}@keyframes _17R5tF1ASiJkm13E57f4L5{0%{height:0px}100%{height:400px}}@keyframes _2Vk-osYFioz0Kc5lWcyw-J{from{margin-top:0px}to{margin-top:400px}}\n",""]),t.locals={navbar:"_1GrGFmcOgu2-jlBJ3gfa3g",logo:"_23ljq_HwUnL5k9OMgHTuos",addPollButton:"doc5FYRsAGytPJzJcNd3h",publicText:"_3OGk2sZLCjQEZzjReWtZZS",logoutButton:"LeUQWdq5WWOCHxh3fxqO3",selectModalContainer:"_3pipI8xzuqFYCSMzbsIzE7",selectCreateModalContainer:"_20_IKIN8m9n3XQIhKrQL1Z",slideSelectionDown:"_2Vk-osYFioz0Kc5lWcyw-J",closeButton:"flOFZ5S-ahnfhNet-89kn",createModalContainer:"_3xuSgo6ZUu6d0b3av6CphC",openContainer:"_17R5tF1ASiJkm13E57f4L5",drop:"iAaa7vg5b7vwXiLxHCWst"},e.exports=t},177:function(e,t,a){var r=a(6),n=a(178);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},178:function(e,t,a){(t=a(7)(!1)).push([e.i,"._3dp-UaUQ7h4vyggJi86a7I{display:flex;align-items:center;justify-content:center}._1uHWUGRdKLluZ9S2ebHkdn{background-color:white;border:2px solid;box-shadow:blue;padding:10px}._10mJ3UsokPqPNbPQOej90o{text-align:center;border:solid red;color:red;margin:15px}._245I0S918bKyRT3333sVKP{text-align:center;background-color:black;color:yellow}\n",""]),t.locals={modal:"_3dp-UaUQ7h4vyggJi86a7I",paper:"_1uHWUGRdKLluZ9S2ebHkdn",deleteItem:"_10mJ3UsokPqPNbPQOej90o",jiraItem:"_245I0S918bKyRT3333sVKP"},e.exports=t},180:function(e,t,a){var r=a(6),n=a(181);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},181:function(e,t,a){(t=a(7)(!1)).push([e.i,'.yVseqZSoO-_J8nEvC2WZC{cursor:pointer;width:55px;height:50px;background:url("https://cssanimation.rocks/images/posts/steps/twitter_fave.png") no-repeat;background-position:0 0;background-position:-3519px 0;transition:background 1s steps(55);z-index:20}.LR2vfcIFtHnW456Dd6v_1{cursor:pointer;width:55px;height:50px;background:url("https://cssanimation.rocks/images/posts/steps/twitter_fave.png") no-repeat;background-position:0 0;transform:scale(1.5)}._2FsC-a-WfSJ5BIqwumf5jW{border:solid 1px black}._25otLo_2zjSYVmC-eqpf5O{transform:rotate(5deg);border:dashed 1px black}\n',""]),t.locals={starfavorite:"yVseqZSoO-_J8nEvC2WZC",star:"LR2vfcIFtHnW456Dd6v_1",static:"_2FsC-a-WfSJ5BIqwumf5jW",move:"_25otLo_2zjSYVmC-eqpf5O"},e.exports=t},188:function(e,t,a){var r=a(6),n=a(189);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1},o=(r(n,i),n.locals?n.locals:{});e.exports=o},189:function(e,t,a){(t=a(7)(!1)).push([e.i,"h3{margin:0px;padding:15px}h3 :hover{background-color:antiquewhite}._2XqAPz8u9lkYXWQjzin0RI :hover{background-color:#e9e9b2}._1WLEQJ9Sk_W3AD0CxGGIj8{position:relative;border-radius:3px;width:300px;height:100%;padding:8px;margin-right:8px;background-color:#e9e9b2}._1WLEQJ9Sk_W3AD0CxGGIj8 ._2XqAPz8u9lkYXWQjzin0RI{background-color:#e9e9b2}.AOpedlx3ZaFlTX0oM8176{position:relative;border-radius:3px;width:300px;height:100%;padding:8px;margin-right:8px;background-color:#f0f8ff}.i7LkeACVJxM-Jk3nL4RS9{display:flex;height:100%;margin:10px}._242Q_U6CwAyKcKXXMQcv1v{margin-bottom:8px}._1_o2V7xT9oh9qvdM1r8g4K{position:absolute !important;top:0px;right:0px}\n",""]),t.locals={listTitle:"_2XqAPz8u9lkYXWQjzin0RI",move:"_1WLEQJ9Sk_W3AD0CxGGIj8",static:"AOpedlx3ZaFlTX0oM8176",board:"i7LkeACVJxM-Jk3nL4RS9",card:"_242Q_U6CwAyKcKXXMQcv1v",verticalIcon:"_1_o2V7xT9oh9qvdM1r8g4K"},e.exports=t},281:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(231),o=a(57),l=a(86),d=a(149),c=a.n(d),s=a(58),u=a(73),p=a.n(u);const m=p.a`
query PUBLIC_POLLS {
  publicPolls {
    title
    id
    createdByUserId
    annotations
  }
}
`,g=p.a`
  query pollTrays($pollId: String!) {
    pollTrays(pollId: $pollId) {
      id
      title
      cards {
        id
        text
        favoritedBy
      }
    }
  }
  `,f=(p.a`
  query USER {
    userId @client
    admin @client
  }
  `,p.a`
  query MAIN_POLL {
    mainPoll @client
  }
`),b=p.a`
  query getUser($userId: String!) {
  getUser(userId: $userId) {
    polls {
      id
      title
      createdByUserId
      annotations
    }
    id
    jiraInfo{
      jiraDomain
      jiraEmail
      jiraToken
      jiraProjects{
        name
        key
        id
        avatarUrls
        issuetypes{
          name
          id
          iconUrl
        }
      }
    }
  }
}
  `;var v=a(152),h=a.n(v),I=a(88),y=Object(I.a)((function(e){var t=e.publicPolls,a=e.closeCallback,r=e.client;return n.a.createElement("div",null,n.a.createElement("div",{className:h.a.pollsParent},t.map((function(e){return n.a.createElement("div",{className:h.a.pollContent,pollid:e.id,key:e.id,onClick:function(){return t=e.id,n=e.title,i=e.annotations,o=e.createdByUserId,l={id:t,title:n,annotations:i,createdByUserId:o,__typename:"mainPoll"},r.writeQuery({query:f,data:{mainPoll:l}}),void a();var t,n,i,o,l}},n.a.createElement("div",{className:h.a.contentWrapper,pollid:e.id,polltitle:e.title}),n.a.createElement("div",{className:h.a.listItemTitle},e.title),n.a.createElement("div",{className:h.a.listItemAnnotations},e.annotations))}))))})),x=a(74),_=a.n(x),E=a(2),k=a.n(E);const j=p.a`
mutation addPoll($title: String!, $createdByUserId: String!, $visibility: String!, $annotations: String!){
  __typename
  addPoll(title: $title, createdByUserId: $createdByUserId, visibility: $visibility, annotations: $annotations) {
    id
    polls{
      title
      id
      createdByUserId
      annotations
    }
  }
}
`,w=p.a`
mutation deletePoll($pollId: String!) {
  __typename
  deletePoll(pollId: $pollId){
    status
  }
}
`,C=p.a`
mutation deleteTray($trayId: String!) {
  __typename
  deleteTray(trayId: $trayId){
    status
  }
}
`,S=p.a`
mutation deleteCard($trayId: String!, $cardId: String!) {
  __typename
  deleteCard(trayId: $trayId, cardId: $cardId){
      id
      title
      cards {
        id
        text
        favoritedBy
      }
  }
}
`,P=p.a`
  mutation addTray($title: String!, $pollId: String!, $userId: String!) {
    addTray(title: $title, pollId: $pollId, userId: $userId) {
      id
      title
      cards{
        id
      }
    }
  }
`,T=p.a`
  mutation addCard($trayId: String!, $text: String!, $userId: String!) {
    addCard(trayId: $trayId, text: $text, userId: $userId) {
      id
      title
      cards {
        id
        text
        favoritedBy
      }
    }
  }
`,O=p.a`
  mutation swapTrayMutation(
    $pollId: String!
    $fromIndex: String!
    $toIndex: String!
  ) {
    swapTray(
      pollId: $pollId
      fromIndex: $fromIndex
      toIndex: $toIndex
    ) {
      allTrays{
      id
      title
      index
      cards{
        id
        text
      }
      }
    }
  }
`,U=p.a`
  mutation swapCardMutation(
    $fromTrayId: String!
    $toTrayId: String!
    $fromCardIndex: Int!
    $toCardIndex: Int!
  ) {
    swapCard(
      fromTrayId: $fromTrayId
      toTrayId: $toTrayId
      fromCardIndex: $fromCardIndex
      toCardIndex: $toCardIndex
    ) {
      trays{
      id
      cards{
        id
        text
      }
      }
    }
  }
`,D=p.a`
mutation setCardFavorite (
  $trayId: String!
  $cardId: String!
  $userId: String!
  $favoriteStatus: Boolean!
){
  setCardFavorite(cardId: $cardId, trayId: $trayId, userId: $userId, favoriteStatus: $favoriteStatus) {
    cards {
      id
      favoritedBy
    }
  }
}
`,$=p.a`
mutation setJiraInfo ($userId: String!, $jiraEmail: String!, $jiraDomain: String!, $jiraToken:String!) {
  __typename
  setJiraInfo(userId: $userId, jiraEmail: $jiraEmail, jiraDomain: $jiraDomain, jiraToken: $jiraToken) {
    status
  }
}
`,N=p.a`
mutation createJiraIssue ($cardText: String!, $projectKey: String!, $issueType: String!, $summary: String!, $jiraEmail: String!, $jiraDomain: String!, $jiraToken:String!) {
  __typename
  createJiraIssue(cardText: $cardText, projectKey:$projectKey, issueType:$issueType, summary:$summary, jiraEmail: $jiraEmail, jiraDomain: $jiraDomain, jiraToken: $jiraToken) {
    status
  }
}
`;var q=a(283),L=a(285),R=a(270),J=a(289),Q=a(268),B=a(280),M=a(264),A=a(273);var F=Object(I.a)((function(e){var t=e.userId,a=e.closeCallBack,i=e.animationClass,o=e.client,l=Object(r.useState)(""),d=k()(l,2),c=d[0],u=d[1],p=Object(s.b)(j),g=k()(p,2),v=g[0];_()(g[1]);var h=Object(r.useState)("public"),I=k()(h,2),y=I[0],x=I[1],E=Object(r.useState)(""),w=k()(E,2),C=w[0],S=w[1];return n.a.createElement("div",{className:i,style:{display:"grid",gridTemplateColumns:"50% 50%",backgroundColor:"aliceblue",border:"solid",padding:"5em",paddingTop:"30px",width:"1000px",margin:"auto"}},n.a.createElement("div",{style:{display:"grid"}},n.a.createElement("div",null,n.a.createElement(B.a,{id:"standard-password-inp",label:"Poll Name",value:c,onChange:function(e){return u(e.target.value)}})),n.a.createElement(M.a,{style:{margin:"50px"},"aria-label":"minimum height",rowsMin:3,onChange:function(e){return S(e.target.value)},value:C,placeholder:"Annotations"})),n.a.createElement("div",null,n.a.createElement(J.a,{component:"fieldset"},n.a.createElement(Q.a,{component:"legend"},"Visibility"),n.a.createElement(L.a,{"aria-label":"gender",name:"gender1",value:y,onChange:function(e){x(e.target.value)}},n.a.createElement(R.a,{value:"public",control:n.a.createElement(q.a,null),label:"Open Public"}),n.a.createElement("div",null,n.a.createElement(R.a,{value:"password",control:n.a.createElement(q.a,null),label:"Public with password"}),n.a.createElement(B.a,{id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password"})),n.a.createElement(R.a,{value:"private",control:n.a.createElement(q.a,null),label:"Private"})))),n.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){v({variables:{title:c,createdByUserId:t,visibility:y,annotations:C},onCompleted:(a(),void o.writeQuery({query:f,data:{mainPoll:null}})),refetchQueries:[{query:b,variables:{userId:t}},{query:m}]})}},"CREATE"))})),z=function(e){var t=e.userInfo,a=e.select,r=e.create,i=e.callBack,o=Object(s.c)(m,{variables:{userId:t.id}}),l=o.data;return o.loading?"LOADING...":n.a.createElement("div",null,r?n.a.createElement(F,{userId:t.id,closeCallBack:i||function(){}}):"",a?n.a.createElement(y,{publicPolls:l.publicPolls,closeCallback:i||function(){}}):"")},H=a(164),Z=a.n(H),W=a(166),X=a.n(W);function Y(e){var t=e.jiraInfo,a=e.userId,i=Object(r.useState)(t?t.jiraDomain:""),o=k()(i,2),l=o[0],d=o[1],c=Object(r.useState)(t?t.jiraEmail:""),u=k()(c,2),p=u[0],m=u[1],g=Object(r.useState)(t?t.jiraToken:""),f=k()(g,2),v=f[0],h=f[1],I=Object(s.b)($),y=k()(I,2),x=y[0],_=y[1],E=_.loading,j=_.error;return n.a.createElement("div",{className:X.a.jiraModal},n.a.createElement("input",{placeholder:"jira domain",value:l,onChange:function(e){return d(e.target.value)}}),n.a.createElement("input",{placeholder:"jira email",value:p,onChange:function(e){return m(e.target.value)}}),n.a.createElement("input",{placeholder:"jira token",value:v,onChange:function(e){return h(e.target.value)}}),n.a.createElement("button",{onClick:function(){x({variables:{userId:a,jiraDomain:l,jiraEmail:p,jiraToken:v},refetchQueries:[{query:b,variables:{userId:a}}]})}},"Connect/Atualize"),E&&n.a.createElement("div",{className:X.a.jiraProjectLoading},"Loading..."),j&&n.a.createElement("div",{className:X.a.jiraProjectLoading},"Error"),t.jiraProjects&&n.a.createElement("div",{className:X.a.jiraProjectsHeader},"Jira Projects"),t.jiraProjects?t.jiraProjects.map((function(e){return n.a.createElement("div",{key:e.name,className:X.a.jiraProjectItem},e.name)})):"")}var G=a(272),K=a(127),V=a.n(K),ee=a(168),te=a.n(ee),ae=Object(I.a)((function(e){e.polls;var t=e.children,a=e.selectedPollId,i=e.pollTitle,o=e.annotations,l=e.userPolls,d=e.jiraInfo,c=e.userId,u=e.client,p=Object(r.useState)(!1),g=k()(p,2),v=g[0],h=g[1],I=Object(r.useState)(null),y=k()(I,2),x=y[0],E=y[1],j=Object(r.useState)(!1),C=k()(j,2),S=C[0],P=C[1],T=Object(s.b)(w),O=k()(T,2),U=O[0];_()(O[1]);var D=function(e){E(e.target.closest("button").getAttribute("pollid")),x==e.target.closest("button").getAttribute("pollid")&&E(null)};return Object(r.useEffect)((function(){}),[]),n.a.createElement("div",null,n.a.createElement("nav",{className:Z.a.navbar},n.a.createElement("span",null,n.a.createElement("a",{href:"#",onClick:function(){h(!v),E(null)}},n.a.createElement("svg",{width:"30",height:"30"},n.a.createElement("path",{d:"M0,5 30,5",stroke:"#fff",strokeWidth:"3"}),n.a.createElement("path",{d:"M0,14 30,14",stroke:"#fff",strokeWidth:"3"}),n.a.createElement("path",{d:"M0,23 30,23",stroke:"#fff",strokeWidth:"3"})),n.a.createElement("h3",{className:Z.a.myPollsText},"Private"))),n.a.createElement("div",{className:Z.a.logo},n.a.createElement("h1",{className:Z.a.title},i),n.a.createElement("div",null,o)),n.a.createElement("div",{className:Z.a.jiraIcon},"Jira",n.a.createElement(G.a,{"aria-label":"settings",onClick:function(){return P(!S)}},n.a.createElement(te.a,null)))),n.a.createElement("div",{className:Z.a.parentHeight},n.a.createElement("div",{className:"".concat(Z.a.sidenav," ").concat(v?Z.a.side_open:Z.a.side_close)},n.a.createElement("a",{href:"#",onClick:function(){h(!1),E(null)}},"Ã—"),l.map((function(e){e.createdByUserId;return n.a.createElement("div",{href:"#",key:e.id,pollcreatedbyuserid:e.createdByUserId,className:"".concat(Z.a.sideMenuItem,"  ").concat(a==e.id?Z.a.selected:"")},n.a.createElement("div",{pollid:e.id,annotations:e.annotations,id:"nav-item",onClick:function(){return function(e,t,a,r){var n={id:e,title:t,annotations:a,createdByUserId:r,__typename:"mainPoll"};u.writeQuery({query:f,data:{mainPoll:n}})}(e.id,e.title,e.annotations,e.createdByUserId)}},e.title),n.a.createElement("div",{className:Z.a.verticalIconContainer},n.a.createElement(G.a,{"aria-label":"settings",pollid:e.id,onClick:D,className:Z.a.verticalIcon},n.a.createElement(V.a,null))),x==e.id?n.a.createElement("div",{className:Z.a.itemPollDelete},n.a.createElement("div",null,"Delete ",e.title),n.a.createElement("button",{onClick:function(){return function(e,t){U({variables:{pollId:e},refetchQueries:[{query:b,variables:{userId:t}},{query:m}]})}(e.id,c)}},"Yes"),n.a.createElement("button",{onClick:function(){return E(null)}},"Cancel")):"")}))),S?n.a.createElement(Y,{jiraInfo:d,userId:c}):"",n.a.createElement("div",{className:"".concat(Z.a.content," ").concat(v?Z.a.content_open:Z.a.content_close)},t)))})),re=(a(169),a(171)),ne=a.n(re),ie=a(4);function oe(e){var t=e.userInfo,a=Object(r.useState)(!1),i=k()(a,2),o=i[0],l=i[1],d=Object(r.useState)(!1),c=k()(d,2),s=c[0],u=c[1];return n.a.createElement("div",null,n.a.createElement("nav",{className:ne.a.navbar},n.a.createElement("span",null,n.a.createElement("a",{href:"#",onClick:function(){return l(!o)}},n.a.createElement("svg",{width:"30",height:"30"},n.a.createElement("path",{d:"M0,5 30,5",stroke:"#fff",strokeWidth:"3"}),n.a.createElement("path",{d:"M0,14 30,14",stroke:"#fff",strokeWidth:"3"}),n.a.createElement("path",{d:"M0,23 30,23",stroke:"#fff",strokeWidth:"3"})),n.a.createElement("h3",{className:ne.a.publicText},"Public"))),n.a.createElement("button",{className:ne.a.addPollButton,onClick:function(){return u(!s)}},"Add"),n.a.createElement("div",{className:ne.a.logo},n.a.createElement("h3",null,"JTRAY")),n.a.createElement("button",{className:ne.a.logoutButton,onClick:function(){return Object(ie.c)()}},"Logout")),o?n.a.createElement("div",{className:s?ne.a.selectCreateModalContainer:ne.a.selectModalContainer},n.a.createElement(z,{userInfo:t,callBack:function(){return l(!1)},select:!0})):"",s?n.a.createElement("div",{className:ne.a.createModalContainer},n.a.createElement("h2",{className:ne.a.closeButton,onClick:function(){return u(!1)}},"X"),n.a.createElement(z,{userInfo:t,callBack:function(){return u(!1)},create:!0})):"")}var le=a(173),de=a.n(le),ce=a(125),se=a.n(ce),ue=a(276),pe=a(277),me=a(286),ge=a(278),fe=a(271),be=a(284),ve=a(179),he=a.n(ve),Ie=a(274),ye=a(275),xe=a(177),_e=a.n(xe);function Ee(e){var t=e.trayId,a=e.trayTitle,i=e.cardId,o=e.cardText,l=e.jiraInfo,d=Object(r.useState)(!1),c=k()(d,2),u=c[0],p=c[1],m=Object(s.b)(S),g=k()(m,2),f=g[0];_()(g[1]);var b=Object(s.b)(N),v=k()(b,2),h=v[0];_()(v[1]);var I=function(){p(!1)};return n.a.createElement("div",null,n.a.createElement(G.a,{"aria-label":"settings",onClick:function(e){p(!0)}},n.a.createElement(he.a,null)),n.a.createElement(be.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:_e.a.modal,open:u,onClose:I,closeAfterTransition:!0,BackdropComponent:Ie.a,BackdropProps:{timeout:100}},n.a.createElement(ye.a,{in:u},n.a.createElement("div",{className:_e.a.paper},n.a.createElement("h2",{id:"transition-modal-title"},"Card Options"),n.a.createElement("div",null,"Export to JIRA"),l.jiraProjects.map((function(e){return n.a.createElement("div",{key:e.name,onClick:function(){return function(e,t){var r=t.issuetypes[0].name;h({variables:{cardText:e,projectKey:t.key,issueType:r,summary:"Jcard ".concat(a),jiraDomain:l.jiraDomain,jiraEmail:l.jiraEmail,jiraToken:l.jiraToken},onCompleted:I()})}(o,e)},className:_e.a.jiraItem},e.name)})),n.a.createElement("div",{onClick:function(){return function(e,t){f({variables:{trayId:e,cardId:t}}),I()}(t,i)},className:_e.a.deleteItem},"Delete")))))}var ke=a(180),je=a.n(ke),we=function(e){var t=e.text,a=e.snapshot,r=e.trayId,i=e.trayTitle,o=e.cardId,l=e.favoritedBy,d=e.userId,c=e.admin,u=e.jiraInfo,p=n.a.useState(!1),m=k()(p,2),g=(m[0],m[1],n.a.useState(l.includes(d))),f=k()(g,2),b=f[0],v=f[1],h=Object(s.b)(D),I=k()(h,2),y=I[0],x=(I[1].error,l.length);return n.a.createElement("div",null,n.a.createElement(ue.a,{className:a.isDragging?je.a.move:je.a.static},n.a.createElement(pe.a,{avatar:n.a.createElement(me.a,null,c?x:"R"),action:c?n.a.createElement(Ee,{trayId:r,trayTitle:i,cardId:o,cardText:t,jiraInfo:u}):n.a.createElement("div",{className:b?je.a.starfavorite:je.a.star,onClick:function(e){y({variables:{trayId:r,cardId:o,userId:d,favoriteStatus:!b},update:function(){return v(!b)}})}})}),n.a.createElement(ge.a,null,n.a.createElement(fe.a,{color:"textSecondary",gutterBottom:!0},t))))},Ce=a(182),Se=a.n(Ce),Pe=a(279),Te=a(187),Oe=a(183);function Ue(){var e=Se()(["\n  margin-top: 8px;\n  display: flex;\n  align-items: center;\n"]);return Ue=function(){return e},e}function De(){var e=Se()(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  border-radius: 3px;\n  height: 36px;\n  width: 272px;\n  paddinleft: 10px;\n"]);return De=function(){return e},e}var $e=Oe.a.div(De()),Ne=Oe.a.div(Ue()),qe=function(e){var t=e.list,a=e.trayId,i=e.pollId,o=e.userId,l=(e.admin,Object(r.useState)(!1)),d=k()(l,2),c=d[0],u=d[1],p=Object(r.useState)(""),m=k()(p,2),f=m[0],b=m[1],v=Object(s.b)(P),h=k()(v,2),I=h[0];_()(h[1]);var y=Object(s.b)(T),x=k()(y,2),E=x[0];_()(x[1]);Object(s.a)();var j=function(){u(!c)},w=function(){b(""),j()},C=function(e,t){var a=t.data.addTray,r=e.readQuery({query:g,variables:{pollId:i}}),n=JSON.parse(JSON.stringify(r));n.pollTrays.push(a),e.writeQuery({query:g,variables:{pollId:i},data:n}),w()},S=t?"Enter list title...":"Enter a text for this card...";return c?n.a.createElement("div",null,n.a.createElement(ue.a,{style:{overflow:"visible",height:"85px",minWidth:"272px",padding:"6px 8px 2px"}},n.a.createElement(Te.a,{placeholder:S,autoFocus:!0,onBlur:j,value:f,onChange:function(e){return b(e.target.value)},style:{resize:"none",width:"100%",overflow:"hidden",outline:"none",border:"none"}})),n.a.createElement(Ne,null,n.a.createElement(A.a,{type:"button",variant:"contained",style:{color:"white",backgroundColor:"#5aac44"},onMouseDown:function(e){e.preventDefault(),t?function(e){I({variables:{title:f,pollId:e,userId:o},update:C})}(i):function(e,t){E({variables:{trayId:e,text:t,userId:o},update:w})}(a,f)}},"Add"),n.a.createElement(Pe.a,{style:{marginLeft:"8px",cursor:"pointer"},onMouseDown:w},"close"))):n.a.createElement($e,{onClick:j},n.a.createElement(Pe.a,null,"add"),n.a.createElement("p",null,t?"Add another tray":"Add another card"))},Le=a(229),Re=a(188),Je=a.n(Re),Qe=function(e,t,a){var r={};if(a.droppableId==t.droppableId){var n=e.pollTrays.filter((function(e){return e.id==t.droppableId}))[0].cards,i=de()(n),o=i[t.index];i.splice(t.index,1),i.splice(a.index,0,o),r={swapCard:{__typename:"SwapCard",trays:[{id:t.droppableId,cards:i,__typename:"Tray"}]}}}else{var l=e.pollTrays.filter((function(e){return e.id==t.droppableId}))[0].cards,d=e.pollTrays.filter((function(e){return e.id==a.droppableId}))[0].cards,c=de()(l),s=de()(d),u=c[t.index];c.splice(t.index,1),s.splice(a.index,0,u),r={swapCard:{__typename:"SwapCard",trays:[{id:t.droppableId,cards:c,__typename:"Tray"},{id:a.droppableId,cards:s,__typename:"Tray"}]}}}return r},Be=function(e,t,a,r,n){var i=t.pollTrays,o=JSON.parse(JSON.stringify(i)),l=o[a];o.splice(a,1),o.splice(r,0,l),e.writeQuery({query:g,variables:{pollId:n},data:{pollTrays:o}})},Me=function(e){var t=e.userId,a=e.admin,r=e.pollId,i=e.jiraInfo,o=Object(s.b)(U),l=k()(o,2),d=l[0];_()(l[1]);var c=Object(s.b)(C),u=k()(c,2),p=u[0];_()(u[1]);var m=Object(s.c)(g,{variables:{pollId:r}}),f=m.loading,b=m.error,v=m.data,h=Object(s.b)(O),I=k()(h,2),y=I[0],x=(I[1],Object(s.a)());return f?"Loading...":b?(console.log(b),"error :("):function(e,t,a,r,i,o,l){return n.a.createElement(Le.a,{onDragEnd:t},n.a.createElement(Le.c,{droppableId:"all-lists",type:"list",direction:"horizontal"},(function(t){return n.a.createElement("div",se()({className:Je.a.board},t.droppableProps,{ref:t.innerRef}),e.map((function(e,t){return n.a.createElement(Le.b,{draggableId:String(e.id),isDragDisabled:!a,index:t,key:e.id},(function(t,i){return n.a.createElement("div",se()({className:i.isDragging?Je.a.move:Je.a.static,ref:t.innerRef},t.draggableProps),n.a.createElement("div",{className:a?Je.a.listTitle:null},n.a.createElement("h3",t.dragHandleProps,e.title),a?n.a.createElement(G.a,{"aria-label":"settings",onClick:function(t){return o(e.id)},className:Je.a.verticalIcon},n.a.createElement(V.a,null)):""),n.a.createElement(Le.c,{droppableId:String(e.id)},(function(t){return n.a.createElement("div",se()({key:e.id},t.droppableProps,{ref:t.innerRef}),e.cards.map((function(t,i){return n.a.createElement(Le.b,{draggableId:String(t.id),isDragDisabled:!a,index:i,key:t.id},(function(i,o){return n.a.createElement("div",se()({className:Je.a.card,ref:i.innerRef},i.draggableProps,i.dragHandleProps),n.a.createElement(we,{text:t.text,key:t.id,trayId:e.id,trayTitle:e.title,cardId:t.id,snapshot:o,userId:r,admin:a,favoritedBy:t.favoritedBy,jiraInfo:l}))}))})),t.placeholder,a?n.a.createElement(qe,{trayId:e.id,userId:r,admin:a}):"")})))}))})),t.placeholder,a?n.a.createElement(qe,{pollId:i,userId:r,admin:a,list:!0}):"")})))}(v.pollTrays,(function(e){var t=e.destination,a=e.source,n=(e.draggableId,e.type);"list"==n&&t&&a.index!=t.index&&y({variables:{pollId:r,fromIndex:a.index,toIndex:t.index},update:Be(x,v,a.index,t.index,r)}),t&&"DEFAULT"==n&&d({variables:{fromTrayId:a.droppableId,toTrayId:t.droppableId,fromCardIndex:a.index,toCardIndex:t.index},optimisticResponse:Qe(v,a,t)})}),a,t,r,(function(e){p({variables:{trayId:e},refetchQueries:[{query:g,variables:{pollId:r}}]})}),i)},Ae=function(e){var t=e.userInfo,a=(e.selectedPollTitle,e.selectedPollCreatedByUserId,e.mainPoll),r=t.polls;return n.a.createElement("div",null,n.a.createElement(oe,{userId:t.id,userInfo:t,mainPoll:a}),n.a.createElement(ae,{userPolls:r,selectedPollId:a.id,pollTitle:a.title,annotations:a.annotations,userId:t.id,jiraInfo:t.jiraInfo},n.a.createElement(Me,{pollId:a.id,userId:t.id,admin:a.createdByUserId==t.id,jiraInfo:t.jiraInfo})))},Fe=function(e){var t=e.userInfo,a=e.mainPoll,r=e.polls;return a?n.a.createElement(Ae,{userInfo:t,selectedPollId:a.id,selectedPollTitle:a.title,selectedPollCreatedByUserId:a.createdByUserId,publicPolls:r.publicPolls,mainPoll:a}):n.a.createElement("div",{style:{backgroundColor:"darkturquoise",height:"100vh",textAlign:"center"}},n.a.createElement("h2",{style:{color:"white"}},"You have no polls yet... "),n.a.createElement("h2",{style:{color:"white"}},"Create or select one."),n.a.createElement(z,{userInfo:t,select:!0,create:!0}))},ze=function(e){var t=e.token,a=c()(t),r=Object(s.c)(b,{variables:{userId:a.id}}),i=r.data,o=r.loading,l=Object(s.c)(m,{}),d=l.data,u=l.loading,p=Object(s.c)(f,{}).data;if(o||u)return"LOADING....";var g=i.getUser,v=p.mainPoll?p.mainPoll:0!=g.polls.length?g.polls[0]:null;return n.a.createElement(Fe,{userInfo:g,polls:d,mainPoll:v})},He=new l.a({dataIdFromObject:function(e){switch(e.__typename){case"Tray":case"AddCard":case"DeleteCard":case"AddTray":case"SwapCard":case"SwapTray":case"User":case"Card":return e.id}}});He.writeData({data:{mainPoll:null}});var Ze=Object(ie.b)(),We=new i.a({cache:He,uri:"/graphql",resolvers:{},request:function(e){e.setContext({headers:{authorization:"Bearer ".concat(Ze)}})}});t.default=function(e){var t=e.token;return n.a.createElement(o.b,{client:We},n.a.createElement(ze,{token:t}))}}}]);